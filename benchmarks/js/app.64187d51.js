(function(e){function t(t){for(var n,i,o=t[0],s=t[1],u=t[2],f=0,p=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);h&&h(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},c=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var h=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"1c26":function(e,t,r){"use strict";var n=r("5f0b"),a=r.n(n);a.a},"2bd1":function(e,t,r){"use strict";var n=r("d073"),a=r.n(n);a.a},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},"5f0b":function(e,t,r){},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=r("1321"),c=r.n(a),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app"},[e.loading?r("div",[e._v(" loading... ")]):e._e(),e.error?r("div",[e._v(" "+e._s(e.error)+" ")]):e._e(),e.loading||e.error?e._e():r("div",[r("h1",[e._v(e._s(e.config.title))]),r("h3",[e._v(e._s(e.config.description))]),e._l(e.chartGroups,(function(t){return r("div",{key:t.name},[r("ChartGroup",{attrs:{group:t,runs:e.benchmarks,repo:e.config.repository}})],1)}))],2),e._m(0)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("p",[e._v("generated using "),r("a",{attrs:{href:"https://bobheadxi.dev/gobenchdata"}},[e._v("gobenchdata")])])])}],s=(r("d81d"),r("b64b"),r("d3b7"),r("96cf"),r("1da1")),u=r("8f3c"),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chart-group"},[r("h2",[e._v(e._s(e.group.name))]),r("p",[e._v(e._s(e.group.description))]),e._l(e.group.charts,(function(t){return r("div",{key:t.name,staticClass:"chart"},[r("Chart",{attrs:{config:t,runs:e.runs,repo:e.repo}})],1)}))],2)},f=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chart"},[r("h3",[e._v(e._s(e.config.name))]),r("p",[e._v(e._s(e.description))]),e.error?r("div",[e._v(e._s(e.error))]):r("div",{staticClass:"chart-set"},e._l(e.generateCharts(),(function(t){return r("div",{key:t.metric,staticClass:"metric"},[r("h5",[e._v(e._s(t.metric))]),r("div",{staticClass:"chart-container"},[r("apexchart",{attrs:{options:t.options,series:t.options.series}})],1)])})),0)])},l=[],d=(r("a4d3"),r("e01a"),r("99af"),r("7db0"),r("fb6a"),r("b0c0"),r("4d63"),r("ac1f"),r("25f0"),r("d4ec")),b=r("bee2"),m=r("53ca"),v=9999999999;function g(e){return e instanceof Date?e:"number"===typeof e?e>v?new Date(e):new Date(1e3*e):new Date(e)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?"number"===typeof e?e:(t?parseInt(e):parseFloat(e))||0:0}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;if("function"===typeof e.toObject&&r)return e.toObject();switch(Object(m["a"])(e)){case"string":return"number"===t?O(e):e;case"boolean":case"number":return e}if(e instanceof Date)return"string"===t?e.toISOString():Math.floor(e.getTime()/1e3);if(Array.isArray(e))return e.map((function(e){return y(e,t,!0)}));for(var n={},a=0,c=Object.keys(e);a<c.length;a++){var i=c[a],o=e[i];o&&(n[i]=y(o,t[i]||{},!0))}return n}var k,j,P=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.name="name"in r?r.name:"",this.description="description"in r?r.description:"",this.package="package"in r?r.package:"",this.benchmarks="benchmarks"in r?r.benchmarks:[],this.metrics="metrics"in r?r.metrics:{}}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={};return y(this,e)}}]),e}(),_=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.name="name"in r?r.name:"",this.description="description"in r?r.description:"",this.charts=Array.isArray(r.charts)?r.charts.map((function(e){return new P(e)})):[]}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={};return y(this,e)}}]),e}(),w=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.title="title"in r?r.title:"",this.description="description"in r?r.description:"",this.repository="repository"in r?r.repository:"",this.benchmarksFile="benchmarksFile"in r?r.benchmarksFile:null,this.chartGroups=Array.isArray(r.chartGroups)?r.chartGroups.map((function(e){return new _(e)})):[]}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={};return y(this,e)}}]),e}(),M=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.BytesPerOp="BytesPerOp"in r?r.BytesPerOp:0,this.AllocsPerOp="AllocsPerOp"in r?r.AllocsPerOp:0,this.MBPerSec="MBPerSec"in r?r.MBPerSec:0}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={BytesPerOp:"number",AllocsPerOp:"number",MBPerSec:"number"};return y(this,e)}}]),e}(),x=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.Name="Name"in r?r.Name:"",this.Runs="Runs"in r?r.Runs:0,this.NsPerOp="NsPerOp"in r?r.NsPerOp:0,this.Mem=new M(r.Mem),this.Custom="Custom"in r?r.Custom:{}}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={Runs:"number",NsPerOp:"number"};return y(this,e)}}]),e}(),S=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.Goos="Goos"in r?r.Goos:"",this.Goarch="Goarch"in r?r.Goarch:"",this.Pkg="Pkg"in r?r.Pkg:"",this.Benchmarks=Array.isArray(r.Benchmarks)?r.Benchmarks.map((function(e){return new x(e)})):[]}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={};return y(this,e)}}]),e}(),E=function(){function e(t){Object(d["a"])(this,e);var r=t&&"object"===Object(m["a"])(t)?y(t):{};this.Version="Version"in r?r.Version:"",this.Date="Date"in r?r.Date:0,this.Tags="Tags"in r?r.Tags:[],this.Suites=Array.isArray(r.Suites)?r.Suites.map((function(e){return new S(e)})):[]}return Object(b["a"])(e,[{key:"toObject",value:function(){var e={Date:"number"};return y(this,e)}}]),e}(),B=(r("4de4"),r("13d5"),r("5319"),r("ade3"));(function(e){e["NSPEROP"]="NsPerOp",e["MEM_BYPTESPEROP"]="Mem.BytesPerOp",e["MEM_ALLOCSPEROP"]="Mem.AllocsPerOp",e["MEM_MBPERS"]="Mem.MBPerSec"})(j||(j={}));var C=(k={},Object(B["a"])(k,j.NSPEROP,!0),Object(B["a"])(k,j.MEM_BYPTESPEROP,!0),Object(B["a"])(k,j.MEM_ALLOCSPEROP,!0),k);function A(e,t){for(var r=0;r<e.length;r+=1)for(var n=e[r],a=0;a<n.Suites.length;a+=1)t(n.Suites[a],n)}function R(e,t,r){A(e,(function(e,n){if(!r||r.test(e.Pkg))for(var a=0;a<e.Benchmarks.length;a+=1)t(e.Benchmarks[a],e,n)}))}function N(e){return e.replace(/^(Benchmark)/,"")}function G(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C;0===Object.keys(n).length&&(n=C);var a=Object.keys(n).filter((function(e){return n[e]})),c=a.reduce((function(e,t){return e[t]=[],e}),{});return R(e,(function(e,t,n){for(var i=0;i<r.length;i+=1){var o=r[i];if(o.test(e.Name))for(var s=0;s<a.length;s+=1){var u=a[s],h=c[u].find((function(t){return t.name===N(e.Name)}));h||c[u].push({name:N(e.Name),data:[]});var f=h||c[u][c[u].length-1],p=g(n.Date);switch(u){case j.NSPEROP:f.data.push({x:p,y:e.NsPerOp});break;case j.MEM_ALLOCSPEROP:f.data.push({x:p,y:e.Mem.AllocsPerOp});break;case j.MEM_BYPTESPEROP:f.data.push({x:p,y:e.Mem.BytesPerOp});break;case j.MEM_MBPERS:f.data.push({x:p,y:e.Mem.MBPerSec});break;default:e.Custom&&e.Custom[u]&&f.data.push({x:p,y:e.Custom[u]})}}}}),t),c}var D=n["a"].extend({name:"Chart",props:{repo:{type:String,required:!0},config:{type:Object,required:!0},runs:{type:Array,required:!0}},data:function(){return{error:void 0}},computed:{description:function(){return this.config.description||'"Package": "'.concat(this.config.package,'", "Benchmarks": ').concat(JSON.stringify(this.config.benchmarks))}},methods:{generateCharts:function(){var e=this;try{var t=new RegExp(this.config.package||"."),r=this.config.benchmarks.map((function(e){return new RegExp(e||".")}));0===r.length&&r.push(new RegExp("."));var n=G(this.runs,t,r,this.config.metrics),a=Object.keys(n).map((function(t){return{metric:t,options:{chart:{type:"line",height:500,events:{click:function(r,a,c){var i=c.dataPointIndex,o=c.seriesIndex,s=g(n[t][o].data[i].x),u=e.runs.find((function(e){return g(e.Date).valueOf()===s.valueOf()}));u&&window.open("".concat(e.repo,"/commit/").concat(u.Version))}}},dataLabels:{enabled:!1},xaxis:{tooltip:{enabled:!1},labels:{show:!1,formatter:function(t){var r=g(t),n=e.runs.find((function(e){return g(e.Date).valueOf()===r.valueOf()})),a="".concat(r.toDateString()," ").concat(("0"+r.getHours()).slice(-2),":").concat(("0"+r.getMinutes()).slice(-2));return n&&n.Version?"".concat(a," (").concat(n.Version.substring(0,9),")"):a}}},tooltip:{y:{formatter:function(e){return"".concat(e," ").concat(t)}}},series:n[t]}}}));return console.log("chart ".concat(this.config.name),a),a||[]}catch(c){return console.error("chart ".concat(this.config.name),this.config,c),this.error=c,[]}}}}),T=D,L=(r("1c26"),r("2877")),q=Object(L["a"])(T,p,l,!1,null,null,null),V=q.exports,F=n["a"].extend({name:"ChartGroup",components:{Chart:V},props:{repo:{type:String,required:!0},group:{type:Object,required:!0},runs:{type:Array,required:!0}}}),$=F,I=(r("2bd1"),Object(L["a"])($,h,f,!1,null,null,null)),J=I.exports,Y=n["a"].extend({name:"App",components:{ChartGroup:J},data:function(){return{loading:!0,config:new w,benchmarks:[],error:void 0}},computed:{chartGroups:function(){if(this.config.chartGroups&&this.config.chartGroups.length>0)return this.config.chartGroups;var e={};return A(this.benchmarks,(function(t){e[t.Pkg]=!0})),[new _({Name:"Benchmarks",Description:"All detected benchmarks, grouped by Package",Charts:Object.keys(e).sort().map((function(e){return new P({Name:e,Package:e,Benchmarks:["."]})}))})]}},created:function(){this.load()},methods:{load:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("./gobenchdata-web.yml");case 3:if(r=t.sent,!(r.status>400)){t.next=7;break}throw console.error(r),new Error("".concat(r.status,": failed to load config"));case 7:return t.next=9,r.text();case 9:return n=t.sent,console.log(n),a=new w(u["a"].parse(n)),t.next=14,fetch("./".concat(a.benchmarksFile||"benchmarks.json"));case 14:if(c=t.sent,!(c.status>400)){t.next=18;break}throw console.error(c),new Error("".concat(c.status,": failed to load benchmarks"));case 18:return t.next=20,c.json();case 20:i=t.sent,e.benchmarks=i.map((function(e){return new E(e)})),e.config=a,console.log("data loaded",{config:a,runs:e.benchmarks.length}),t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](0),e.error=t.t0;case 29:e.loading=!1;case 30:case"end":return t.stop()}}),t,null,[[0,26]])})))()}}}),H=Y,z=(r("5c0b"),Object(L["a"])(H,i,o,!1,null,null,null)),K=z.exports;n["a"].config.productionTip=!1,n["a"].component("apexchart",c.a),new n["a"]({render:function(e){return e(K)}}).$mount("#app")},d073:function(e,t,r){}});
//# sourceMappingURL=app.64187d51.js.map